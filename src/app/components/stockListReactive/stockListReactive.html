<div class="list-container">
  <div class="list-header">
    <h2 class="list-title">
      <i class="fas fa-list-ul"></i>
      Lista de Productos
    </h2>
    <div class="list-count">
      <span class="count-badge">
        <i class="fas fa-box"></i>
        <span>{{ stockReactiveList().length }} {{ stockReactiveList().length === 1 ? 'producto' : 'productos' }}</span>
      </span>
    </div>
  </div>

  <!-- Lista vacÃ­a -->
  @if (stockReactiveList().length === 0) {
    <div class="empty-state">
      <i class="fas fa-inbox"></i>
      <p>No hay productos registrados</p>
      <small>Agrega productos usando el formulario</small>
    </div>
  }

  <!-- Lista con productos -->
  @if (stockReactiveList().length > 0) {
    <div class="table-container">
      <table class="product-table">
        <thead>
          <tr>
            <th><i class="fas fa-tag"></i> Nombre</th>
            <th><i class="fas fa-shopping-cart"></i> Cantidad</th>
            <th><i class="fas fa-warehouse"></i> Existencia</th>
            <th><i class="fas fa-cog"></i> Eliminar</th>
          </tr>
        </thead>
        <tbody>
          @for (stock of stockReactiveList(); track stock.id) {
            <tr class="product-row">
              <td class="product-name">{{ stock.name }}</td>
              
              @if (stock.quantity < 5) {
                <td class="product-low-stock">{{ stock.quantity }}</td>
              }
              @else {
                <td class="product-quantity">{{ stock.quantity }}</td>
              }

              @if (stock.existence < 5) {
                <td class="product-low-stock">{{ stock.existence }}</td>
              }
              @else {
                <td class="product-existence">{{ stock.existence }}</td>
              }
              
              <td class="product-actions">
               <button 
                  class="btn-delete"
                  (click)="deleteStock(stock.id, stock.name)"
                  title="Eliminar producto"
                >
                  <i class="bi bi-trash-fill"></i>
              </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
    <div class="list-footer">
      <button 
        class="btn-delete-all"
        (click)="deleteAllStocks()"
        title="Eliminar todos los productos"
      >
        <i class="bi bi-trash3-fill"></i>
        Eliminar Todo
      </button>
    </div>
  }
</div>